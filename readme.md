# PHP-CRUD-API Demo

> Turn your stodgy old SQL database into an API with ease!

This demo application uses [v1 of the PHP-CRUD-API project](https://github.com/mevdschee/php-crud-api/tree/v1).

## Docker Setup instructions

- Clone this repo.

- Run a database container: 

```
docker run -d --rm -e MYSQL_ALLOW_EMPTY_PASSWORD=yes -e MYSQL_DATABASE=world -p 3306:3306 --name pca-db mysql:5.7
```

- Import the `world.sql` data file: 

```
docker exec -i pca-db mysql -u root world < sql/world.sql
```

- Install Composer dependencies: 

```
docker run --rm -v $(pwd):/app composer install
```

- Run the PHP container: 

```
docker run --rm -d -v $(pwd):/var/www/html --link pca-db --name pca-app -p 8000:80 tiqc/php-apache-mysqli
```

- Head to `localhost:8000/index.php` to view the auto-generated API docs and start making requests.


## Sample Requests

- Autogenerated API Docs:

```
curl -X GET http://localhost:8000/index.php
```

- Get cities:

```
curl -X GET http://localhost:8000/index.php/city
```

- Create a city:

```
curl -d '{"Name": "Western Springs", "CountryCode": "USA", "District": "Illinois", "Population": "10000"}' -H "Content-Type: application/json" -X POST http://localhost:8000/index.php/city
```

- Delete a city:

```
curl -X DELETE http://localhost:8000/index.php/city/1
```

You can also filter, paginate, order, or load relations. [Check out the documentation here for much more](https://github.com/mevdschee/php-crud-api/tree/v1#documentation).

## Contributing

This is a demo repository, not meant for real-world use, but if I committed an error, please correct me using Github's handy pull request system.


## License

> Apache 2.0
